(()=>{var i={575:t=>{function e(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}t.exports=e},913:t=>{function s(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||false;s.configurable=true;if("value"in s)s.writable=true;Object.defineProperty(t,s.key,s)}}function e(t,e,i){if(e)s(t.prototype,e);if(i)s(t,i);return t}t.exports=e}};var s={};function l(t){if(s[t]){return s[t].exports}var e=s[t]={exports:{}};i[t](e,e.exports,l);return e.exports}(()=>{l.n=t=>{var e=t&&t.__esModule?()=>t["default"]:()=>t;l.d(e,{a:e});return e}})();(()=>{l.d=(t,e)=>{for(var i in e){if(l.o(e,i)&&!l.o(t,i)){Object.defineProperty(t,i,{enumerable:true,get:e[i]})}}}})();(()=>{l.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e)})();(()=>{"use strict";var t=l(575);var e=l.n(t);var i=l(913);var s=l.n(i);function n(t,e){return Math.floor(Math.random()*(e-t)+t)}var a=function(){function t(){e()(this,t);this.imp={field:[],drug:[],lead:[],steel:[],aluminum:[]};this.minutes=1;this.isRunning=false;this.type="field";this.intervals=[];this.timeouts=[];this.updateDisplay(0);this.rotateKnob(1);this.resetLamps();document.querySelector("[data-type='".concat(this.type,"']")).classList.toggle("active-panel-btn")}s()(t,[{key:"resetLamps",value:function t(i){var s=this;var e=Object.values(document.getElementsByClassName("lamp"));e.filter(function(t){return t.classList.contains("active-lamp")}).forEach(function(t){return t.classList.toggle("active-lamp")});e.filter(function(t,e){return e<(i||s.minutes)}).forEach(function(t){return t.classList.toggle("active-lamp")})}},{key:"rotateKnob",value:function t(e){if(!this.isRunning&&!e){this.minutes=this.minutes===5?this.minutes=1:this.minutes+=1;this.resetLamps()}var i=document.getElementById("knob");switch(e||this.minutes){case 1:if(e)this.resetLamps(e);i.style.transform="rotate(-40deg)";break;case 2:if(e)this.resetLamps(e);i.style.transform="rotate(-25deg)";break;case 3:if(e)this.resetLamps(e);i.style.transform="rotate(0deg)";break;case 4:if(e)this.resetLamps(e);i.style.transform="rotate(25deg)";break;case 5:if(e)this.resetLamps(e);i.style.transform="rotate(40deg)";break;default:}}},{key:"runTimer",value:function t(e){var i=this;this.generateImps();var s=0;this.intervals.push(setInterval(function(){s+=1;i.updateDisplay(s)},Math.floor(6e4/this.imp[this.type][this.imp[this.type].length-1])));this.intervals.push(setInterval(function(){Object.values(document.getElementsByClassName("lamp"))[e-1].classList.toggle("active-lamp")},800));this.timeouts.push(setTimeout(function(){i.intervals.forEach(function(t){return clearInterval(t)});i.intervals=[];i.draw();i.updateDisplay(0);if(e-1>0){i.rotateKnob(e-1);i.runTimer(e-1);return}i.rotateKnob(i.minutes);i.isRunning=false;document.getElementById("start-btn").classList.toggle("active-btn")},6e4))}},{key:"generateImps",value:function t(){if(this.imp[this.type].length>=this.minutes){this.imp[this.type]=[]}switch(this.type){case"field":this.imp[this.type].push(n(13,17));break;case"drug":this.imp[this.type].push(n(18,22));break;case"lead":this.imp[this.type].push(n(17,21));break;case"steal":this.imp[this.type].push(n(15,19));break;case"aluminum":this.imp[this.type].push(n(16,20));break;default:}}},{key:"updateDisplay",value:function t(e){var i=e.toString().length;switch(i){case 1:this.display="000".concat(e);break;case 2:this.display="00".concat(e);break;case 3:this.display="0".concat(e);break;case 4:this.display=e.toString();break;default:this.display="0000"}document.getElementById("dial").innerHTML=this.display}},{key:"reset",value:function t(){this.imp={field:[],drug:[],lead:[],steel:[],aluminum:[]};this.intervals.forEach(function(t){return clearInterval(t)});this.intervals=[];this.timeouts.forEach(function(t){return clearTimeout(t)});this.timeouts=[];this.minutes=1;this.isRunning=false;document.getElementById("start-btn").classList.remove("active-btn");this.updateDisplay(0);this.rotateKnob(1);this.draw()}},{key:"draw",value:function t(){var e=document.getElementById("table");e.style.display="none";Object.values(document.getElementsByClassName("temp-row")).forEach(function(t){t.parentNode.removeChild(t)});if(!this.imp.field.length){e.style.display="table";return}for(var i=0;i<this.minutes;i+=1){var s=e.insertRow(3+i);s.classList.add("temp-row");var n=s.insertCell();n.innerHTML=i+1;n=s.insertCell();n.innerHTML=this.imp.field[i]||" ";n=s.insertCell();n.innerHTML=this.imp.drug[i]||" ";n=s.insertCell();n.innerHTML=this.imp.lead[i]||" ";if(!i){n=s.insertCell();n.innerHTML="4.6";n.rowSpan="".concat(this.minutes)}n=s.insertCell();n.innerHTML=this.imp.steel[i]||" ";if(!i){n=s.insertCell();n.innerHTML="5.9";n.rowSpan="".concat(this.minutes)}n=s.insertCell();n.innerHTML=this.imp.aluminum[i]||" ";if(!i){n=s.insertCell();n.innerHTML="5.9";n.rowSpan="".concat(this.minutes)}}e.style.display="table"}},{key:"start",value:function t(){this.isRunning=true;this.runTimer(this.minutes)}}]);return t}();var r=new a;document.getElementById("start-btn").addEventListener("click",function(t){if(r.isRunning)return;r.start();t.target.classList.toggle("active-btn")},false);document.getElementById("reset-btn").addEventListener("click",function(){r.reset()},false);document.getElementById("knob").addEventListener("click",function(){r.rotateKnob()},false);Object.values(document.getElementById("control-panel").children).forEach(function(t){t.addEventListener("click",function(){if(r.isRunning)return;document.querySelector("[data-type='".concat(r.type,"']")).classList.toggle("active-panel-btn");r.type=t.dataset.type;document.querySelector("[data-type='".concat(r.type,"']")).classList.toggle("active-panel-btn")},false)})})()})();